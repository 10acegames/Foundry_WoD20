<div class="clearareaBox area-box">

	<div class="sheet-headline splatFont">
		{{localize 'wod.abilities.abilities'}}
	</div>

	<div class="clearareaBox">
		<div class="ability-statArea pullLeft headlineGroup splatFont centerText">{{localize 'wod.abilities.talents'}}</div>
		<div class="ability-statArea pullLeft headlineGroup splatFont centerText">{{localize 'wod.abilities.skills'}}</div>
		<div class="ability-statArea pullLeft headlineGroup splatFont centerText">{{localize 'wod.abilities.knowledges'}}</div>
	</div>
	
	<div class="ability-statArea pullLeft">

		{{{isempty actor.system.listdata.ability_talents}}}
	
		{{#each actor.system.listdata.ability_talents as |ability key|}}	
			<div class="clearareaBox">
				<label for="data.system.abilities.talent.{{ability._id}}.value" 
					class="vrollable pullLeft ability-headlineWidth headlineNormal" 
					data-type="{{../config.sheettype.mortal}}"
					data-key="{{ability._id}}"
					data-ability="true">
						{{#if ability.issecondary}}
							{{ability.label}}
						{{else}}
							{{getAbilityLabel ability}}
						{{/if}}
				</label>

				{{#if (gte ability.value 4)}}
					<div class="speciality-ability-icon">
						<i class="fa-solid fa-circle-exclamation {{#if (eq ability.speciality '')}}item-warning{{else}}item-notice{{/if}}" title="{{ability.speciality}}"></i>
					</div>
				{{else}}
					<div class="speciality-ability-empty-icon">
						&nbsp;
					</div>
				{{/if}}

				<div class="resource-value pullRight" 
					data-value="{{ability.value}}" 
					data-name="abilities.talent.{{ability._id}}.value"
					data-key="{{ability._id}}"
					{{#if ability.issecondary}}data-ability="secondary"{{else}}data-ability="core"{{/if}}>

					{{#numLoop ability.max}}					
						<span class="{{#if (gt ability.max 5)}}supernaturalAttribute{{/if}} resource-value-step" data-type="{{../../config.sheettype.mortal}}" data-index="{{this}}" {{#if ability.issecondary}}data-ability="secondary" data-itemid="{{ability._id}}"{{else}}data-ability="core"{{/if}}></span>					
					{{/numLoop}}
					
				</div>
			</div>	
			{{#if (gte ability.value 4)}}
				{{#if (eq ../locked false)}}
					<div class="speciality-ability headlineNormal">
						<input type="text" 
							class="specialityBox editable {{#if ability.issecondary}}inputdata{{/if}}"
							name="system.abilities.talent.{{ability._id}}.speciality" 
							value="{{ability.speciality}}" 
							data-name="data.abilities.talent.{{ability._id}}.speciality"
							data-source="ability"
							data-abilityid="{{ability._id}}" />
					</div>
				{{/if}}
			{{/if}}
		{{/each}}
	
	</div>
	<div class="ability-statArea pullLeft">

		{{{isempty actor.system.listdata.ability_skills}}}
	
		{{#each actor.system.listdata.ability_skills as |ability key|}}
			<div class="clearareaBox">
				<label for="data.system.abilities.skill.{{ability._id}}.value" 
					class="vrollable pullLeft ability-headlineWidth headlineNormal"  
					data-type="{{../config.sheettype.mortal}}"
					data-key="{{ability._id}}"
					data-ability="true">
						{{#if ability.issecondary}}
							{{ability.label}}
						{{else}}
							{{getAbilityLabel ability}}
						{{/if}}
				</label>

				{{#if (gte ability.value 4)}}
					<div class="speciality-ability-icon">
						<i class="fa-solid fa-circle-exclamation {{#if (eq ability.speciality '')}}item-warning{{else}}item-notice{{/if}}" title="{{ability.speciality}}"></i>
					</div>
				{{else}}
					<div class="speciality-ability-empty-icon">
						&nbsp;
					</div>
				{{/if}}

				<div class="resource-value pullRight" 
					data-value="{{ability.value}}" 
					data-name="abilities.skill.{{ability._id}}.value"
					data-key="{{ability._id}}"
					{{#if ability.issecondary}}data-ability="secondary"{{else}}data-ability="core"{{/if}}>

					{{#numLoop ability.max}}					
						<span class="{{#if (gt ability.max 5)}}supernaturalAttribute{{/if}} resource-value-step" data-type="{{../../config.sheettype.mortal}}" data-index="{{this}}" {{#if ability.issecondary}}data-ability="secondary" data-itemid="{{ability._id}}"{{else}}data-ability="core"{{/if}}></span>					
					{{/numLoop}}
					
				</div>
			</div>
			{{#if (gte ability.value 4)}}
				{{#if (eq ../locked false)}}
					<div class="speciality-ability headlineNormal">
						<input type="text" 
							class="specialityBox editable {{#if ability.issecondary}}inputdata{{/if}}"
							name="system.abilities.skill.{{ability._id}}.speciality" 
							value="{{ability.speciality}}" 
							data-name="data.abilities.skill.{{ability._id}}.speciality"
							data-source="ability"
							data-abilityid="{{ability._id}}" />
					</div>
				{{/if}}
			{{/if}}
		{{/each}}
	
	</div>
	<div class="ability-statArea pullLeft">

		{{{isempty actor.system.listdata.ability_knowledges}}}
	
		{{#each actor.system.listdata.ability_knowledges as |ability key|}}
			<div class="clearareaBox">
				<label for="data.system.abilities.knowledge.{{ability._id}}.value" 
					class="vrollable pullLeft ability-headlineWidth headlineNormal" 
					data-type="{{../config.sheettype.mortal}}"
					data-key="{{ability._id}}"
					data-ability="true">
					{{#if ability.issecondary}}
						{{ability.label}}
					{{else}}
						{{getAbilityLabel ability}}
					{{/if}}
				</label>

				{{#if (gte ability.value 4)}}
					<div class="speciality-ability-icon">
						<i class="fa-solid fa-circle-exclamation {{#if (eq ability.speciality '')}}item-warning{{else}}item-notice{{/if}}" title="{{ability.speciality}}"></i>
					</div>
				{{else}}
					<div class="speciality-ability-empty-icon">
						&nbsp;
					</div>
				{{/if}}

				<div class="resource-value pullRight" 
					data-value="{{ability.value}}" 
					data-name="abilities.knowledge.{{ability._id}}.value"
					data-key="{{ability._id}}"
					{{#if ability.issecondary}}data-ability="secondary"{{else}}data-ability="core"{{/if}}>
					
					{{#numLoop ability.max}}					
						<span class="{{#if (gt ability.max 5)}}supernaturalAttribute{{/if}} resource-value-step" data-type="{{../../config.sheettype.mortal}}" data-index="{{this}}" {{#if ability.issecondary}}data-ability="secondary" data-itemid="{{ability._id}}"{{else}}data-ability="core"{{/if}}></span>					
					{{/numLoop}}
					
				</div>
			</div>
			{{#if (gte ability.value 4)}}
				{{#if (eq ../locked false)}}
					<div class="speciality-ability headlineNormal">
						<input type="text" 
							class="specialityBox editable {{#if ability.issecondary}}inputdata{{/if}}"
							name="system.abilities.knowledge.{{ability._id}}.speciality" 
							value="{{ability.speciality}}" 
							data-name="data.abilities.knowledge.{{ability._id}}.speciality"
							data-source="ability"
							data-abilityid="{{ability._id}}" />
					</div>
				{{/if}}
			{{/if}}
		{{/each}}
	
	</div>	
</div>	